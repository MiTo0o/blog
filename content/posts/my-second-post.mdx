---
title: Python Dictionary Order
date: 2022-08-09
imageAlt: Laptop on a desk with VS Code open.
excerpt: Python Dictionaries are now ordered as of python 3.7
---
## Dictionaries Now Keep Insertion Order

An implementation detail in `python 3.6` and now a language feature in `python 3.7`, python standard `dict` now **retains insertion order**.

## OrderedDict Is Still Useful

Even with the new changes, standard `dict` doesn't really replace `OrderedDict`.

### Breaking Code
Relying on this new feature will cause code to break on earlier versions of python. When we typically talk about python we are usually talking about [CPython](https://www.python.org/) implementation but there are also many [different implementations](https://wiki.python.org/moin/PythonImplementations). Your code will also break on the implementations that don't implement `dict` in the same way.

### Declaring Intent

Using `OrderedDict` over `dict` is also good for self documentation. By using `OrderedDict` you declare the need to preserve order of dictionary items. This can be helpful to other people reading your code.

### Equality
The equality comparisons for `OrderedDict` is order sensitive while this is still not the case for the standard `dict` (as of python 3.9).

```py
>>> dict([(1,2), (2,3)]) == dict([(2,3), (1,2)])
True
>>> OrderedDict([(1,2), (2,3)]) == OrderedDict([(2,3), (1,2)])
False
```

### Other Functionalities

The `OrderedDict` also has a `move_to_end()` method.

From the python `OrderedDict` [documentation](https://docs.python.org/3/library/collections.html#:~:text=OrderedDict%20has%20a%20move_to_end,the%20leftmost%20(first)%20position):
> OrderedDict has a move_to_end() method to efficiently reposition an element to an endpoint.

> A regular dict does not have an efficient equivalent for OrderedDictâ€™s od.move_to_end(k, last=False) which moves the key and its associated value to the leftmost (first) position.

`reversed()` for regular python `dict` didn't exist until python 3.8 see [docs](https://docs.python.org/3/library/collections.html#:~:text=Until%20Python%203.8%2C%20dict%20lacked%20a%20__reversed__()%20method.)

## Conclusion

Adoption of features is a slow process so `OrderedDict` will probably still be used for a while.